<!DOCTYPE html>
<html>
<head>
    <meta charset="utf8">
    <title>Microsoft Azure Application Insights sample | Angulartics</title>
    <link rel="stylesheet" href="//bootswatch.com/cosmo/bootstrap.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <script src="../src/angulartics.js"></script>
    <script src="../src/angulartics-azure.js"></script>
    <script type="text/javascript">
    var appInsights = window.appInsights || function (config) {
        function s(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } } var t = { config: config }, r = document, f = window, e = "script", o = r.createElement(e), i, u; for (o.src = config.url || "//az416426.vo.msecnd.net/scripts/a/ai.0.js", r.getElementsByTagName(e)[0].parentNode.appendChild(o), t.cookie = r.cookie, t.queue = [], i = ["Event", "Exception", "Metric", "PageView", "Trace"]; i.length;) s("track" + i.pop()); return config.disableExceptionTracking || (i = "onerror", s("_" + i), u = f[i], f[i] = function (config, r, f, e, o) { var s = u && u(config, r, f, e, o); return s !== !0 && t["_" + i](config, r, f, e, o), s }), t
    }({
        instrumentationKey: "6d5c89be-38d4-4bc5-a466-9fb82769b150"
    });

    window.appInsights = appInsights;
    //appInsights.trackPageView();
    </script>

</head>
<body ng-app="sample">

<div class="navbar navbar-default">
    <div class="navbar-header">
        <a class="navbar-brand" href="#/">My App</a>
    </div>
    <div>
        <ul class="nav navbar-nav">
            <li><a href="#/a">Page A</a></li>
            <li><a href="#/b">Page B</a></li>
            <li><a href="#/c">Page C</a></li>
        </ul>
    </div>
</div>

<div class="container">
    <div ng-view></div>
    <hr>

    <button analytics-on="click" analytics-event="Button 1" analytics-category="Commands" class="btn btn-default">Button 1</button>

    <!-- same as analytics-on="click", because 'click' is the default -->
    <button analytics-on analytics-event="Button 2" analytics-category="Commands" class="btn btn-primary">Button 2</button>

    <!-- same as analytics-event="Button 3", because is inferred from innerText -->
    <button analytics-on analytics-category="Commands" class="btn btn-success">Button 3</button>

    <!-- note that analytics-category is never inferred, and is required by GA... if you leave it out, no event will be tracked -->
    <button analytics-on analytics-category="Commands"  analytics-label="Button4 label" analytics-value="1" class="btn btn-info">Button 4</button>
    <hr>

    <p class="alert alert-success">
        Open the network inspector in your browser, click any of the nav options or buttons above and you'll see the analytics
        request being executed. Then check <a class="alert-link" href="http://www.google.com/analytics/web/">your Google Analytics dashboard</a>.
    </p>
</div>

<script>
    angular.module('sample', ['angulartics', 'angulartics.azure'])
    .config(function ($routeProvider, $analyticsProvider) {
        $routeProvider
            .when('/', { templateUrl: '/samples/partials/root.tpl.html', controller: 'SampleCtrl' })
            .when('/a', { templateUrl: '/samples/partials/a.tpl.html', controller: 'SampleCtrl' })
            .when('/b', { templateUrl: '/samples/partials/b.tpl.html', controller: 'SampleCtrl' })
            .when('/c', { templateUrl: '/samples/partials/c.tpl.html', controller: 'SampleCtrl' })
            .otherwise({ redirectTo: '/' });
    })
    .controller('SampleCtrl', function () {});
</script>
</body>
</html>
